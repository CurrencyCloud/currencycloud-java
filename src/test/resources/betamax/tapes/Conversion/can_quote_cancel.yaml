name: can_quote_cancel
interactions:
- request:
    method: POST
    uri: http://localhost:5555/v2/conversions/create
    body: 'buy_currency=GBP&sell_currency=USD&fixed_side=buy&amount=1000&term_agreement=true&reason=mortgage+payment'
    headers:
      X-Auth-Token:
      - 6f5f99d1b860fc47e8a186e3dce0d3f9
      User-Agent:
      - CurrencyCloudSDK/2.0 Java/3.6.1
  response:
    status: 200
    headers:
      Server:
      - nginx
      Date:
      - Fri, 04 May 2018 20:28:29 GMT
      Content-Type:
      - application/json;charset=utf-8
      Content-Length:
      - '865'
      Connection:
      - keep-alive
      X-Request-Id:
      - '2778807612227406608'
      X-Content-Type-Options:
      - nosniff
    body: '{"id":"24d2ee7f-c7a3-4181-979e-9c58dbace992","settlement_date":"2015-05-06T14:00:00+00:00","conversion_date":"2015-05-06T00:00:00+00:00",
    "short_reference":"20150504-PGRNVJ","creator_contact_id":"c4d838e8-1625-44c6-a9fb-39bcb1fe353d","account_id":"8ec3a69b-02d1-4f09-9a6b-6bd54a61b3a8",
    "currency_pair":"GBPUSD","status":"awaiting_funds","buy_currency":"GBP","sell_currency":"USD","client_buy_amount":"1000.00","client_sell_amount":"1511.70",
    "fixed_side":"buy","mid_market_rate":"1.5118","core_rate":"1.5117","partner_rate":"","partner_status":"funds_arrived","partner_buy_amount":"0.00","
    partner_sell_amount":"0.00","client_rate":"1.5117","deposit_required":false,"deposit_amount":"0.00","deposit_currency":"","deposit_status":"not_required",
    "deposit_required_at":"","payment_ids":[],"created_at":"2018-05-04T20:28:29+00:00","updated_at":"2018-05-04T20:28:29+00:00"}'
- request:
    method: GET
    uri: http://localhost:5555/v2/conversions/24d2ee7f-c7a3-4181-979e-9c58dbace992/cancellation_quote
    body: ''
    headers:
      X-Auth-Token:
      - 6f5f99d1b860fc47e8a186e3dce0d3f9
      User-Agent:
      - CurrencyCloudSDK/2.0 Java/3.6.1
  response:
    status: 200
    headers:
      Server:
      - nginx
      Date:
      - Mon, 07 May 2018 09:12:03 GMT
      Content-Type:
      - application/json;charset=utf-8
      Content-Length:
      - '81'
      Connection:
      - keep-alive
      X-Request-Id:
      - '2778807612227406608'
      X-Content-Type-Options:
      - nosniff
    body: '{"amount":"-2.51","currency":"USD","event_date_time":"2018-07-11T16:37:48+00:00"}'
